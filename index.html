<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AeroFito</title>
  <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header id="top">
    <img id="logoA" src="img/logoaeroponia.png" alt="logo" width="60">
    <h1>AeroFito</h1>
  </header>

  <main class="main-container">
    <section class="controls">
      <h2>Controles</h2>
      <hr>

      <h3>Modo</h3>
      <p>Seleccione el modo de operación del sistema:</p>
      <div class="bloquesControl">
        <button class="btn-green" onclick="enviarComando('MODO_AUTO')">AUTO</button>
        <button class="btn-yellow" onclick="enviarComando('MODO_MANUAL')">MANUAL</button>
      </div>

      <hr>
      <h3>Actuadores</h3>
      <p>En modo manual puede activar o desactivar los actuadores.</p>

      <div class="actuadores">
        <div class="bloquesControl">
          <img class="imgAct" src="img/led.png" alt="led">
          <div>
            <h4>LED</h4>
            <button class="btn-green" onclick="enviarComando('LED_ON')">ON</button>
            <button class="btn-red" onclick="enviarComando('LED_OFF')">OFF</button>
          </div>
        </div>

        <div class="bloquesControl">
          <img class="imgAct" src="img/humidificador.png" alt="humidificador">
          <div>
            <h4>HUMIDIFICADOR</h4>
            <button class="btn-green" onclick="enviarComando('HUMI_ON')">ON</button>
            <button class="btn-red" onclick="enviarComando('HUMI_OFF')">OFF</button>
          </div>
        </div>

        <div class="bloquesControl">
          <img class="imgAct" src="img/buzzer.png" alt="buzzer">
          <div>
            <h4>BUZZER</h4>
            <button class="btn-green" onclick="enviarComando('BUZZER_ON')">ON</button>
            <button class="btn-red" onclick="enviarComando('BUZZER_OFF')">OFF</button>
          </div>
        </div>
      </div>

      <div class="modo-actual">
        <strong>Modo actual:</strong> <span id="modo">--</span>
      </div>
    </section>

    <section class="contenido">
      <div id="descripcion">
        <p class="textdesc">
          “AeroFito” es un proyecto que aplica tecnología a la agricultura mediante un sistema de aeroponía automatizada para optimizar el cultivo.
        </p>
        <p class="textdesc">
          A continuación se muestran los valores actuales de los sensores activos.
        </p>
      </div>

      <h2 id="monitoreo">Monitoreo de Sensores</h2>

      <div class="sensor-container">
        <div class="sensor-card">
          <div class="label">Temperatura (°C)</div>
          <div id="temp" class="value">--</div>
          <canvas id="chartTemp"></canvas>
        </div>
        <div class="sensor-card">
          <div class="label">Humedad Aire (%)</div>
          <div id="hum" class="value">--</div>
          <canvas id="chartHum"></canvas>
        </div>
        <div class="sensor-card">
          <div class="label">Humedad Suelo (%)</div>
          <div id="humSuelo" class="value">--</div>
          <canvas id="chartHumSuelo"></canvas>
        </div>
        <div class="sensor-card">
          <div class="label">Luz (LDR)</div>
          <div id="luz" class="value">--</div>
          <canvas id="chartLuz"></canvas>
        </div>
        <div class="sensor-card">
          <div class="label">Nivel de Agua</div>
          <div id="nivel" class="value">--</div>
          <canvas id="chartNivel"></canvas>
        </div>
      </div>
    </section>
  </main>

  <script src="script.js"></script>
</body>
</html>

